%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 1) ПАРАМЕТРЫ И ВРЕМЯ
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
#const maxsteps=21.
time(0..maxsteps).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 2) ОБЪЕКТЫ, ЛОКАЦИИ, СТАТИЧЕСКИЕ ОТНОШЕНИЯ
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% У нас один сокобан, один ящик
sokoban(sokoban).
crate(crate2).
crate(crate1).

% Локации
location(l1;l2;l5;l6;l9;l10;l11;l12;l13;l14;l15;l16;l17;l18;l19;l20).

% Горизонтальные связи
leftOf(l1,l2).
leftOf(l5,l6).
leftOf(l9,l10). leftOf(l10,l11). leftOf(l11,l12).
leftOf(l13,l14). leftOf(l14,l15). leftOf(l15,l16).
leftOf(l17,l18). leftOf(l18,l19). leftOf(l19,l20).

% Вертикальные связи
below(l5,l1). below(l6,l2).
below(l9,l5). below(l10,l6).
below(l13,l9).  below(l14,l10). below(l15,l11). below(l16,l12).
below(l17,l13). below(l18,l14).
below(15,19). below(16,20).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 3) НАЧАЛЬНОЕ СОСТОЯНИЕ (ВМЕСТО holds(...) => at(...,0)/clear(...,0))
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Сокобан и ящик на шагах T=0
at(sokoban, l10, 0).
at(crate2,  l15, 0).
at(crate1,  l13, 0).

% Какие локации свободны изначально (T=0)
clear(l1, 0).
clear(l2, 0).
clear(l5, 0).
clear(l6, 0).
clear(l9, 0).
clear(l11, 0).
clear(l12, 0).
clear(l14, 0).
clear(l16, 0).
clear(l17, 0).
clear(l18, 0).
clear(l19, 0).
clear(l20, 0).
isgoal(l1;l2).
isnongoal(l5;l6;l9;l10;l11;l12;l13;l14;l15;l16;l17;l18;l19;l20).

% ВАЖНО: l10 и l15 НЕ свободны, т.к. там sokoban и crate2.
% По умолчанию не пишем clear(l10,0) и clear(l15,0).